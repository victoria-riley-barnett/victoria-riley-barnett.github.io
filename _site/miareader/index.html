<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>mia reader - victoriabarnett.codes</title>
<meta name="description" content="A marxist internet archive reading mirror">


  <meta name="author" content="Victoria Barnett">
  
  <meta property="article:author" content="Victoria Barnett">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="victoriabarnett.codes">
<meta property="og:title" content="mia reader">
<meta property="og:url" content="http://localhost:4000/miareader/">


  <meta property="og:description" content="A marxist internet archive reading mirror">







  <meta property="article:published_time" content="2023-02-27T01:03:50-08:00">






<link rel="canonical" href="http://localhost:4000/miareader/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Victoria Barnett",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="victoriabarnett.codes Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="/assets/css/custom.css">
<link rel="shortcut icon" href="/assets/images/favicon.ico" type="image/x-icon">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>




    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--posts">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/192x192.png" alt="victoriabarnett.codes"></a>
        
        <a class="site-title" href="/">
          victoriabarnett.codes
          <span class="site-subtitle">A portfolio site & blog</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/posts/">Posts</a>
            </li><li class="masthead__menu-item">
              <a href="/resume/">Resume</a>
            </li><li class="masthead__menu-item">
              <a href="/work_history/">Work History</a>
            </li><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/bio-photo.jpg" alt="Victoria Barnett" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Victoria Barnett</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>Software Dev &amp; CS Student living in San Francisco.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      
        
          
            <li><a href="https://victoriabarnett.codes" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">victoriabarnett.codes</span></a></li>
          
        
          
            <li><a href="https://github.com/victoria-riley-barnett" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">victoria-riley-barnett</span></a></li>
          
        
          
            <li><a href="mailto:v@victoriabarnett.codes" rel="nofollow noopener noreferrer"><i class="fa fa-envelope" aria-hidden="true"></i><span class="label">v@victoriabarnett.codes</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/victoriabarnett0/" rel="nofollow noopener noreferrer"><i class="fab fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <div class="archive">
    
      <h1 id="page-title" class="page__title">mia reader</h1>
    
    <h1 id="a-marxist-internet-archive-reading-mirror">A marxist internet archive reading mirror</h1>

<p><img src="https://user-images.githubusercontent.com/9009959/221525776-f597e8fe-565d-4ffb-8405-554232ac434a.png" alt="2023-02-27_01-28" /></p>

<h3 id="links">Links</h3>
<ul>
  <li><a href="https://github.com/victoria-riley-barnett/mia-reader">Github</a></li>
  <li><a href="https://www.marxists.org/">Marxist Internet Archive</a></li>
</ul>

<h2 id="introduction">Introduction</h2>
<p>One of the only bad things about free internet archives is that they usually exist in the state they were uploaded in. In the case of the Marxist Internet Archive, this is doubly true - not only does it use really ugly html for most of its pages, the format and css created for those pages is not consistent and is in most cases difficult to read. The standard use-case for the archvie as such then, as I’ve seen it used amongst reading groups and other users, is to either copy all of the text from a given archive page and rehost it on Google docs for collaborative commenting, or to download the provided pdf/epub/mobi files and read them on a device. The goal of mia-reader is to provide a free mirror of Marxist Internet Archive content that is easy to read and navigate regardless of device, can automatically export to Google docs, and can generate pdf/epub/mobi files for offline reading on demand.</p>

<h2 id="launch">Launch</h2>
<p>To launch, I’m starting with a mirror of both the Selected Marxists section and the Marx-Engels-Lenin section of the archive, two of the most popular sections of the archive. As I don’t have official mirror status with mia to use rsync and Apache to mirror the site, all mirror sections are manually generated using a combination of <code class="language-plaintext highlighter-rouge">wget</code>, <code class="language-plaintext highlighter-rouge">find</code>, <code class="language-plaintext highlighter-rouge">sed</code>, <code class="language-plaintext highlighter-rouge">pandoc</code>, and good old manual editing.</p>

<h2 id="the-process">The Process</h2>
<p>So far, my process for generating each section is as follows:</p>
<ul>
  <li>Download the html for the section using <code class="language-plaintext highlighter-rouge">wget -mpE -w .5 --limit-rate=500k -r --level=2  https://www.marxists.org/archive/your-category-here (initial section was: arvhive/marx/works/sw/progress-publishers/one-volume.htm)</code></li>
  <li>Use <code class="language-plaintext highlighter-rouge">find</code> and <code class="language-plaintext highlighter-rouge">pandoc</code> to convert all html files to markdown files using <code class="language-plaintext highlighter-rouge">find ./ -iname "*.htm" -type f -exec sh -c 'pandoc "${0}" -o "${0%.*}.md"' {} \;</code></li>
  <li>Use <code class="language-plaintext highlighter-rouge">bash</code> and <code class="language-plaintext highlighter-rouge">sed</code> to insert Jekyll front matter into all .md files</li>
  <li>Use <code class="language-plaintext highlighter-rouge">find</code> again to remove all .htm files using <code class="language-plaintext highlighter-rouge">find . -type f -iname "*.html" -delete</code></li>
  <li>Manually lint files for errors, readability, and consistency</li>
  <li>Manually edit files to add links to other files in the archive</li>
  <li>Manually edit files to add proper jekyll nav structure to front matter</li>
</ul>

<h2 id="the-tools">The tools</h2>
<ul>
  <li><a href="https://jekyllrb.com/">Jekyll</a> - Jekyll is a static site generator that uses markdown files to generate html pages. While static-content generators don’t fit every use-case, they are great for sites like mia-reader that don’t need to be updated frequently, and markdown is the perfect format to use for both web hosting and generating other file types from. Jekyll is free and I also use it for this blog!</li>
  <li><a href="https://pandoc.org/">Pandoc</a> - Pandoc is a great tool for converting between file formats. I use it to convert html to markdown, but it can also convert between many other formats, including pdf, epub, and mobi, html, docx, LaTeX, and many more.</li>
  <li><a href="https://github.com/just-the-docs/just-the-docs">Just-the-docs</a> - Just-the-docs is a Jekyll theme primarily meant for documentation sites, but I think it’s navigation structure is perfect for a site like mia-reader. It’s also very easy to customize, free to use, has easy gh-pages hosting(though I’m not using it), and is very well documented.</li>
  <li><a href="https://fontawesome.com/">Font Awesome</a> - Font Awesome is tool for adding icons to your site. I use it for the search icon and my light/dark mode toggle.</li>
  <li><a href="https://www.gnu.org/software/wget/">wget</a> - wget is a great tool for downloading files from the internet. It has a ton of options and has made the process of downloading from the archive much easier.</li>
</ul>

<h2 id="the-future">The Future</h2>
<p>I plan to continue expanding mia-reader. Some of the things I’d like to add are:</p>
<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />A search function</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Comphrensive contribution guide with the goal of making it easy for anyone to contribute, and getting more sections on mia-reader</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />User configurable options for dark mode</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />User configurable options for font size, font type, and line spacing</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />A way to automatically generate a pdf/epub/mobi file for offline reading</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />A way to automatically generate a Google docs file for collaborative reading
    <ul>
      <li>Google Drive API can do this, but my link structure is not stable enough to use it yet (will need to host on a domain first)</li>
    </ul>
  </li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Become an official mirror of the archive so I can do much more of this automatically and get new content as it’s added to the archive</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Would love multiple languages but I’m hesitant to add them at the moment, as my linting process is very manual and I couldn’t guarantee the quality of the translations after my conversion process.</li>
</ul>

<p>and finally, as ever:</p>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Add more sections of the archive</li>
</ul>

<h2 id="contributing">Contributing</h2>
<p>For more detailed technical information or to get involved, checkout the <a href="https://github.com/victoria-riley-barnett/mia-reader/blob/main/CONTRIBUTING.md">contribution guide on Github</a>. If you have any questions, feel free to open an issue on Github or contact me!</p>



<ul class="taxonomy__index">
  
  
    <li>
      <a href="#2023">
        <strong>2023</strong> <span class="taxonomy__count">4</span>
      </a>
    </li>
  
    <li>
      <a href="#0023">
        <strong>0023</strong> <span class="taxonomy__count">1</span>
      </a>
    </li>
  
</ul>




  <section id="2023" class="taxonomy__section">
    <h2 class="archive__subtitle">2023</h2>
    <div class="entries-list">
      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/miareader/" rel="permalink">mia reader
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">A marxist internet archive reading mirror

</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/CppExercises/" rel="permalink">C++ Exercises
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          6 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">C++ Exercises

</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ZSHplugin/" rel="permalink">A ZSH Plugin
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          7 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">One of the earliest projects I did as I was learning Unix, starting with ZSH on my Macbook. I wrote a little plugin for oh-my-zsh that pulls a Marx quote wit...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/i3config/" rel="permalink">i3 config
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">See my Github - i3config.

</p>
  </article>
</div>

      
    </div>
    <a href="#page-title" class="back-to-top">Back to Top &uarr;</a>
  </section>

  <section id="0023" class="taxonomy__section">
    <h2 class="archive__subtitle">0023</h2>
    <div class="entries-list">
      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/Markdown-cheat-sheet/" rel="permalink">Markdown Cheat Sheet
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Credit to The Markdown Guide - this Markdown cheat sheet provides a quick overview of all the Markdown syntax elements and simultaneously lets me see them al...</p>
  </article>
</div>

      
    </div>
    <a href="#page-title" class="back-to-top">Back to Top &uarr;</a>
  </section>


  </div>
</div>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
    <ul class="social-icons">
      
  
      
        
          
            <li><a href="https://github.com/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> Github - victoria-riley-barnett</a></li>
          
        
      
  
      
        <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
      
    </ul>
  </div>
  
  <div class="page__footer-copyright">&copy; 2023 Victoria Barnett.
  
      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
